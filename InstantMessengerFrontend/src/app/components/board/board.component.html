<div class="post-list-container m-l-25 m-r-25">

  <mat-card class="m-b-10 postey-machiney-container">
    <div class="make-post">
      <textarea matInput class="postey-machiney" autocomplete="off" placeholder="Say something cringy!" 
        [(ngModel)]="content"></textarea>
      <span *ngIf="!!content" class="buttons">
        <mat-divider [inset]="true"></mat-divider>
        <button mat-button (click)="createPost()">Post</button>
        <button mat-button>Attachment</button>
      </span>
    </div>
  </mat-card>

  <mat-card class="m-b-10 posts" *ngFor="let post of posts">
    <mat-card-header>
      <!-- <div *ngIf="! filter"> -->
        <div mat-card-avatar *ngIf="!filter && users[post.posterId-1].avatar" class="user-image" style="background-image: url({{users[post.posterId-1].avatar}});"></div>
        <div mat-card-avatar *ngIf="!filter && !users[post.posterId-1].avatar" class="user-image"
        [ngClass]="users[post.posterId-1].gender === genderType.female ? 'female-avatar' : 'male-avatar'"></div>
        <mat-card-title *ngIf="! filter">{{users[post.posterId-1].firstName}} {{users[post.posterId-1].lastName}}</mat-card-title>
      <!-- </div> -->

      <!-- <div *ngIf="!!filter"> -->
        <div mat-card-avatar *ngIf="!!filter && user.avatar" class="user-image" style="background-image: url({{user.avatar}});"></div>
        <div mat-card-avatar *ngIf="!!filter && !user.avatar" class="user-image"
        [ngClass]="user.gender === genderType.female ? 'female-avatar' : 'male-avatar'"></div>
        <mat-card-title *ngIf="!!filter">{{user.firstName}} {{user.lastName}}</mat-card-title>
      <!-- </div> -->
      
      <mat-card-subtitle>{{post.date}}</mat-card-subtitle>
    </mat-card-header>

    <div>
      <!-- idk how attachments will look like so its #todo -->
    </div>

    <mat-card-content>
      <h2>{{post.content}}</h2>
    </mat-card-content>

    <div>
      <mat-divider [inset]="true"></mat-divider>
      <span>
        <button mat-button>Like</button>
        <button mat-button>Comment</button>
      </span>

      <mat-divider [inset]="true" *ngIf="!!post.comments"></mat-divider>
      
      <div *ngIf="!!post.comments">
        <div *ngFor="let comment of post.comments">
          <mat-card-header class="m-t-10">
            <div mat-card-avatar *ngIf="!filter && users[comment.posterId-1].avatar" class="user-image" style="background-image: url({{users[comment.posterId-1].avatar}});"></div>
            <div mat-card-avatar *ngIf="!filter && !users[comment.posterId-1].avatar" class="user-image"
            [ngClass]="users[comment.posterId-1].gender === genderType.female ? 'female-avatar' : 'male-avatar'"></div>
            <mat-card-title *ngIf="! filter" style="font-size: medium;">
                {{users[comment.posterId-1].firstName}} {{users[comment.posterId-1].lastName}}
            </mat-card-title>
            <mat-card-subtitle style="color: black; font-size: medium;">
                {{comment.content}}
            </mat-card-subtitle>
          </mat-card-header>
          <mat-divider [inset]="true"></mat-divider>
        </div>
      </div>
      
    </div>
  </mat-card>
</div>